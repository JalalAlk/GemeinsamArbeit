<!DOCTYPE html><html lang="de"> <head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="description" content="Suchen Sie hier nach Lernpartnern für Ihre Kurse."><title>Lernpartner suchen</title><link rel="stylesheet" href="/styles.css"><link rel="icon" href="/favicon.svg"><style>body{background:var(--background-main);color:var(--text-dark);font-family:Arial,sans-serif;margin:0;padding:0}.checkbox-container[data-astro-cid-rclcz7sy]{display:flex;align-items:center}.checkbox-container[data-astro-cid-rclcz7sy] input[data-astro-cid-rclcz7sy][type=checkbox]{margin-right:.5rem}main[data-astro-cid-rclcz7sy]{margin:auto;padding:2rem;width:100%;max-width:600px;background:#fff;border-radius:12px;color:#0064b2;text-align:center;box-shadow:0 4px 12px #00000026;font-family:Arial,sans-serif}h1[data-astro-cid-rclcz7sy]{margin-bottom:2rem;font-size:28px;font-weight:700;color:#0064b2;border-bottom:2px solid #0064B2;padding-bottom:1rem}form[data-astro-cid-rclcz7sy]{display:flex;flex-direction:column;gap:1rem}label[data-astro-cid-rclcz7sy]{font-size:16px;color:#555;margin-top:.1rem;margin-bottom:.1rem;text-align:left}input[data-astro-cid-rclcz7sy][type=text],select[data-astro-cid-rclcz7sy],textarea[data-astro-cid-rclcz7sy]{padding:1rem;border-radius:10px;border:2px solid #ddd;background:#f9f9f9;color:#333;font-size:16px;transition:border-color .3s ease,box-shadow .3s ease}input[data-astro-cid-rclcz7sy][type=date],input[data-astro-cid-rclcz7sy][type=time]{padding:.8rem 5.2rem;border-radius:10px;border:2px solid #ddd;background:#f9f9f9;color:#333;font-size:16px;transition:border-color .3s ease,box-shadow .3s ease}.input[data-astro-cid-rclcz7sy][type=text],.input[data-astro-cid-rclcz7sy][type=date],.input[data-astro-cid-rclcz7sy][type=time],.select[data-astro-cid-rclcz7sy]{height:2.5rem}.textarea[data-astro-cid-rclcz7sy]{resize:none}input[data-astro-cid-rclcz7sy]:focus,select[data-astro-cid-rclcz7sy]:focus,textarea[data-astro-cid-rclcz7sy]:focus{border-color:#0064b2;outline:none}.date-time-wrapper[data-astro-cid-rclcz7sy]{display:flex;gap:1rem;justify-content:space-between;margin-right:170px}.date-time-item[data-astro-cid-rclcz7sy]{flex:1}button[data-astro-cid-rclcz7sy]{padding:.8rem .1rem;background-color:#0064b2;color:#fff;border:none;border-radius:10px;cursor:pointer;transition:background .3s ease,transform .3s ease;font-size:16px;font-weight:700}button[data-astro-cid-rclcz7sy]:hover{background:#1287e0;transform:translateY(-2px)}a[data-astro-cid-rclcz7sy].button-lernpartner{display:inline-block;padding:.5rem .1rem;margin-top:1rem;background-color:#0064b2;color:#fff;border:none;border-radius:10px;cursor:pointer;transition:background .3s ease,transform .3s ease;text-decoration:none;font-size:16px;font-weight:700}a[data-astro-cid-rclcz7sy].button-lernpartner:hover{background:#1287e0;transform:translateY(-2px)}
</style></head> <body> <header></header> <!-- Options Bar hinzugefügt --> <div class="options-bar"> <div class="logo">GroupStudy</div> <a href="/startseite" class="button-lernpartner">StartSeite</a> <a href="/lernpartner" class="button-lernpartner">Lernpartner</a> <a href="/nachrichten">Mein Nachrichten</a> <a href="/antworten">Antworten</a> </div> <main>  <main data-astro-cid-rclcz7sy> <h1 data-astro-cid-rclcz7sy>Lernpartner Suchen</h1> <form id="lernpartner-form" data-astro-cid-rclcz7sy> <label for="lernpartner-name" data-astro-cid-rclcz7sy>Ihr Name:</label> <input type="text" id="lernpartner-name" placeholder="Geben Sie Ihren Namen ein" required data-astro-cid-rclcz7sy> <label for="lernpartner-type" data-astro-cid-rclcz7sy>Art der Partnerschaft:</label> <select id="lernpartner-type" required data-astro-cid-rclcz7sy> <option value="" disabled selected data-astro-cid-rclcz7sy>Bitte wählen Sie eine Option</option> <option value="Einzelpartner" data-astro-cid-rclcz7sy>Einzelpartner</option> <option value="Gruppe" data-astro-cid-rclcz7sy>Gruppe</option> </select> <div id="personen-auswahl" style="display: none;" data-astro-cid-rclcz7sy> <label for="anzahl-personen" data-astro-cid-rclcz7sy>Anzahl der Personen:</label> <select id="anzahl-personen" required data-astro-cid-rclcz7sy> <option value="" disabled selected data-astro-cid-rclcz7sy>Bitte wählen Sie</option> <option value="3" data-astro-cid-rclcz7sy>3 Personen</option> <option value="4" data-astro-cid-rclcz7sy>4 Personen</option> <option value="5" data-astro-cid-rclcz7sy>5 Personen</option> <option value="6" data-astro-cid-rclcz7sy>6 Personen</option> <option value="7" data-astro-cid-rclcz7sy>7 Personen</option> <option value="8" data-astro-cid-rclcz7sy>8 Personen</option> <option value="9" data-astro-cid-rclcz7sy>9 Personen</option> <option value="10" data-astro-cid-rclcz7sy>10 Personen</option> </select> </div> <label for="lernpartner-course" data-astro-cid-rclcz7sy>Name des Kurses:</label> <input type="text" id="lernpartner-course" placeholder="Beispiel: Mathematik 3" required data-astro-cid-rclcz7sy> <label for="lernpartner-message" data-astro-cid-rclcz7sy>Ihre Nachricht:</label> <textarea id="lernpartner-message" rows="5" placeholder="Nachricht.." required data-astro-cid-rclcz7sy></textarea> <div class="checkbox-container" data-astro-cid-rclcz7sy> <input type="checkbox" id="disable-time-checkbox" data-astro-cid-rclcz7sy> <label for="disable-time-checkbox" data-astro-cid-rclcz7sy>Zeit und Datum deaktivieren</label> </div> <div class="date-time-wrapper" data-astro-cid-rclcz7sy> <div class="date-time-item" data-astro-cid-rclcz7sy> <label for="lernpartner-date" data-astro-cid-rclcz7sy>Datum:</label> <input type="date" id="lernpartner-date" required data-astro-cid-rclcz7sy> </div> <div class="date-time-item" data-astro-cid-rclcz7sy> <label for="lernpartner-time" data-astro-cid-rclcz7sy>Zeit:</label> <input type="time" id="lernpartner-time" required data-astro-cid-rclcz7sy> </div> </div> <button type="submit" data-astro-cid-rclcz7sy>Senden</button> </form> </main>  </main> </body></html> <script type="module">
  document.addEventListener('DOMContentLoaded', () => {
  const lernpartnerForm = document.getElementById('lernpartner-form');
  const lernpartnerNameInput = document.getElementById('lernpartner-name');
  const lernpartnerTypeSelect = document.getElementById('lernpartner-type');
  const personenAuswahlDiv = document.getElementById('personen-auswahl');
  const anzahlPersonenSelect = document.getElementById('anzahl-personen');
  const lernpartnerCourseInput = document.getElementById('lernpartner-course');
  const lernpartnerMessageInput = document.getElementById('lernpartner-message');
  const lernpartnerDateInput = document.getElementById('lernpartner-date');
  const lernpartnerTimeInput = document.getElementById('lernpartner-time');
  const disableTimeCheckbox = document.getElementById('disable-time-checkbox');


  lernpartnerTypeSelect.addEventListener('change', () => {
    const selectedOption = lernpartnerTypeSelect.value;

    if (selectedOption === 'Gruppe') {
      personenAuswahlDiv.style.display = 'block';
      anzahlPersonenSelect.setAttribute('required', 'true');
    } else {
      personenAuswahlDiv.style.display = 'none';
      anzahlPersonenSelect.removeAttribute('required');
    }
  });
  
  
  const today = new Date().toISOString().split('T')[0];
  lernpartnerDateInput.value = today;
  lernpartnerDateInput.min = today;

  function updateMinTime() {
    const selectedDate = lernpartnerDateInput.value;
    const currentDate = new Date().toISOString().split('T')[0];

    if (selectedDate === currentDate) {
      const now = new Date();
      const minTime = now.toLocaleTimeString('it-IT', { hour: '2-digit', minute: '2-digit' });
      lernpartnerTimeInput.min = minTime;
    } else {
      lernpartnerTimeInput.min = "00:00";
    }
  }

  function toggleDateTimeInputs(disabled) {
    lernpartnerDateInput.disabled = disabled;
    lernpartnerTimeInput.disabled = disabled;
  }

  disableTimeCheckbox.addEventListener('change', () => {
    const disabled = disableTimeCheckbox.checked;
    toggleDateTimeInputs(disabled);

    if (disabled) {
      lernpartnerDateInput.value = '';
      lernpartnerTimeInput.value = '';
    } else {
      lernpartnerDateInput.value = today;
      const now = new Date();
      const currentTime = now.toLocaleTimeString('it-IT', { hour: '2-digit', minute: '2-digit' });
      lernpartnerTimeInput.value = currentTime;
      updateMinTime();
    }
  });

  lernpartnerDateInput.addEventListener('change', updateMinTime);

   const savedTime = localStorage.getItem('savedTime');
    if (savedTime) {
      lernpartnerTimeInput.value = savedTime;
    }

  const now = new Date();
  const currentTime = now.toLocaleTimeString('it-IT', { hour: '2-digit', minute: '2-digit' });
  lernpartnerTimeInput.value = currentTime;
  updateMinTime();

  lernpartnerForm.addEventListener('submit', (event) => {
    event.preventDefault();
    const name = lernpartnerNameInput.value.trim();
    const partnerType = lernpartnerTypeSelect.value;
    const course = lernpartnerCourseInput.value.trim();
    const message = lernpartnerMessageInput.value.trim();
    const date = disableTimeCheckbox.checked ? '' : lernpartnerDateInput.value;
    const time = disableTimeCheckbox.checked ? '' : lernpartnerTimeInput.value;
    const groupSize = anzahlPersonenSelect.value;


    if (!name || !partnerType || !course || !message || (!date && !disableTimeCheckbox.checked)) {
      alert('Bitte füllen Sie alle erforderlichen Felder aus.');
      return;
    }

    let title = `${partnerType}: ${course}`;
    let lernpartnerMessages = JSON.parse(localStorage.getItem('messages') || '[]');
    lernpartnerMessages.push({
      id: Date.now(),
      type: partnerType,
      title,
      message,
      name,
      date: disableTimeCheckbox.checked ? 'Nicht angegeben' : date,
      time: disableTimeCheckbox.checked ? 'Nicht angegeben' : time,
      course,
      partnerType,
      groupSize, 
      replies: []
    });
    localStorage.setItem('messages', JSON.stringify(lernpartnerMessages));

    lernpartnerForm.reset();
    lernpartnerDateInput.value = today;
    lernpartnerTimeInput.value = currentTime;
    updateMinTime();

    location.reload();

    alert('Gesuch gesendet!');
  });
});

</script> 